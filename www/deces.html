<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<head>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	</head>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
	<title>Playground</title>
	<style>
		.title-text {
			font-size: 18pt;
		}

		.section-text {
			font-size: 16pt;
		}

		table {
			width: 60%;
			margin: auto;
		}

		.normal-text {
			font-size: 14pt;
		}

		.disclaimer {
			font-size: 11pt;
			color: gray;
		}
	</style>
</head>

<body>
	<div class='light-green lighten-5 gray-text normal-text'>
		Je vous présente ici quelques graphiques directement issus de la base des décès de l'INSEE dont le liens est
		précisé ci-dessous.<br />
		Mis à jour le 13/3/2021
	</div>
	<div class='section-text'>Source des données
		<a class="blue-text" href="https://www.data.gouv.fr/fr/datasets/fichier-des-personnes-decedees/#_">source
			INSEE (de janvier 1991 à février 2021 inclus</a>
	</div>
	<br />
	<div class="card-panel teal section-text">Répartition des décès de 2020 par pays de naissance</div>
	<div class="center"><a href="img/pays-de-naissance.png"><img class="responsive-img" src="img/pays-de-naissance.png" alt=""></a></div>
	<div class="card-panel teal section-text">Age de décès de 2017 à 2020</div>
	<div class="normal-text">
			Vous remarquerez un age bien supérieur à la médiane, ce qui est normal vu l'asymétrie de la courbe. Environ 88 ans pour
			les hommes et 91 ans pour les femmes.
	</div>
	<div class="normal-text">
			On peut également remarquer cette corniche ente 70 et 80 ans plus visible chez les hommes. Ça correspond aux
			personnes nées entre 39 et 45 !
	</div>
	<div class="normal-text">
			J'imagine que les hommes ont été prisonniers de guerre ou résistants. En tous cas assurer leur descendance
			était moins leur priorité !
	</div>
	<a href="img/death_age_male_2017_2020.png"><img class="responsive-img" src="img/death_age_male_2017_2020.png"
			alt=""></a>
	<a href="img/death_age_female_2017_2020.png"><img class="responsive-img" src="img/death_age_female_2017_2020.png"
			alt=""></a>
	<div class="card-panel teal section-text">Même chose de 1996 à 1998 </div>
	<div class="normal-text">
		On remarque un gros bassin qui est simplement du à la baisse de natalité pendant la guerre de 14-18. Normal les
		hommes étaient au front et ne pouvaient donc pas jouer au docteur avec madame.
	</div>
	<a href="img/death_age_male_1996_1998.png"><img class="responsive-img" src="img/death_age_male_1996_1998.png"></a>
	<a href="img/death_age_female_1996_1998.png"><img class="responsive-img"
			src="img/death_age_female_1996_1998.png"></a>
	<div class="card-panel teal section-text">
		Age de décès le plus 'mortel'
	</div>
	<div class="normal-text">
		Age pour lequel il y a le plus de décès. C'est le sommet de la courbe en forme de cloche déformée. Il est, du fait de l'asymétrie, plus élevé que la médiane.<br/>
		On remarque facilement cette falaise  qui correspond à la cuvette qu'on voit sur les courbes ci-dessus et qui est due à la chute de natalité durant la première guerre mondiale.
	</div>
	<a href="img/most_prevalent_death_age.png">
		<img class="responsive-img" src="img/most_prevalent_death_age.png" alt="">
	</a>
	<div class="card-panel teal section-text">
		Date naissance pour les décès de 2020
	</div>
	<div class="normal-text">
		On voit nettement les effets sur les personnes nées entre 1914 et 1919.<br />
		Plus discret mais on peut remarquer que les hommes décèdent plus à partir de l'age de 15 ans et que l'écart ne
		cesse d'augmenter.
	</div>
	<a href="img/birth_year_2020.png"><img class="responsive-img" src="img/birth_year_2020.png" alt=""></a>
	<a href="img/birth_year_1996.png"><img class="responsive-img" src="img/birth_year_1996.png" alt=""></a>

	<div class="card-panel teal section-text">
		Décès quotidiens de 2017 à 2020
	</div>
	<div class="normal-text">
		On remarque nettement le COVID quoique l'incidence sur l'année soit de 8.5%. 
	</div>
	</p>
	<a href="img/deaths_in_2017_2020.png">
		<img class="responsive-img" src="img/deaths_in_2017_2020.png" alt="">
	</a>
	<div class="normal-text">
		Pareil pour les moins de 80 ans.
	</div>
	<a href="img/deaths_in_2017_2020_below_80.png">
		<img class="responsive-img" src="img/deaths_in_2017_2020_below_80.png" alt="">
	</a>
	<div class="normal-text">
		Et pour les moins de 70 ans.
	</div>
	<a href="img/deaths_in_2017_2020_below_70.png">
		<img class="responsive-img" src="img/deaths_in_2017_2020_below_70.png" alt="">
	</a>
	<div class="card-panel teal section-text">
		Animation des décès de 2000 à 2020
	</div>
	<div class="normal-text">
		Une petite animation en coordonées polaire. Je me suis inspiré de celle de <a
			href="https://twitter.com/coulmont?lang=fr">Baptiste Coulmont</a><br />
		Toutefois j'utilise la racine carré du nombre de decès ce qui est moins impressionant.<br/>
		La raison est que l'aire d'une portion de cercle est proportionelle au carré du rayon. En prenant la racine on s'assure que la
		surface d'une portion de cercle est bien proportionelle au nombre de décès. Mais c'est moins impressionant, bien que plus exact, en
		particulier pour la canicule de 2003.
	</div>
	<div class="center">
		<video class="responsive-video" controls>
			<source src="img/deces.mp4" type="video/mp4">
		</video>
	</div>
	<hr />
	<div class="normal-text">
		Pour chaque année entre 1991 et 2020: Age médian (bien que l'asymétrie de la courbe ne justifie pas l'usage de
		la médiane)
		ainsi que le nombre de décès dans l'année et la variation par rapport à l'année précédente.<br>
	</div>
	<div class="center">
<table>
	<tr>
		<th></th>
		<th colspan=2></th>
		<th>Année</th>
		<th>Hommes</th>
		<th>Femmes</th>
		<th>Nombre de décès</th>
		<th>Augmentation</th>
	</tr>
	<tr>
		<td>1991</td>
		<td>72.1</td>
		<td>82.7</td>
		<td>537404</td>
		<td></td>
	</tr>
	<tr>
		<td>1992</td>
		<td>72.2</td>
		<td>83.0</td>
		<td>533796</td>
		<td>-0.67</td>
	</tr>
	<tr>
		<td>1993</td>
		<td>72.6</td>
		<td>83.3</td>
		<td>547379</td>
		<td>2.54</td>
	</tr>
	<tr>
		<td>1994</td>
		<td>72.7</td>
		<td>83.4</td>
		<td>536766</td>
		<td>-1.94</td>
	</tr>
	<tr>
		<td>1995</td>
		<td>73.1</td>
		<td>83.8</td>
		<td>545756</td>
		<td>1.67</td>
	</tr>
	<tr>
		<td>1996</td>
		<td>73.5</td>
		<td>84.0</td>
		<td>559410</td>
		<td>2.5</td>
	</tr>
	<tr>
		<td>1997</td>
		<td>73.8</td>
		<td>84.2</td>
		<td>552308</td>
		<td>-1.27</td>
	</tr>
	<tr>
		<td>1998</td>
		<td>74.2</td>
		<td>84.5</td>
		<td>571022</td>
		<td>3.39</td>
	</tr>
	<tr>
		<td>1999</td>
		<td>74.5</td>
		<td>84.9</td>
		<td>603401</td>
		<td>5.67</td>
	</tr>
	<tr>
		<td>2000</td>
		<td>74.6</td>
		<td>84.8</td>
		<td>550186</td>
		<td>-8.82</td>
	</tr>
	<tr>
		<td>2001</td>
		<td>74.8</td>
		<td>84.1</td>
		<td>550785</td>
		<td>0.11</td>
	</tr>
	<tr>
		<td>2002</td>
		<td>75.0</td>
		<td>83.7</td>
		<td>552778</td>
		<td>0.36</td>
	</tr>
	<tr>
		<td>2003</td>
		<td>75.5</td>
		<td>83.6</td>
		<td>570976</td>
		<td>3.29</td>
	</tr>
	<tr>
		<td>2004</td>
		<td>75.6</td>
		<td>83.4</td>
		<td>526885</td>
		<td>-7.72</td>
	</tr>
	<tr>
		<td>2005</td>
		<td>76.0</td>
		<td>83.9</td>
		<td>546035</td>
		<td>3.63</td>
	</tr>
	<tr>
		<td>2006</td>
		<td>76.1</td>
		<td>83.9</td>
		<td>533619</td>
		<td>-2.27</td>
	</tr>
	<tr>
		<td>2007</td>
		<td>76.5</td>
		<td>84.3</td>
		<td>538442</td>
		<td>0.9</td>
	</tr>
	<tr>
		<td>2008</td>
		<td>76.9</td>
		<td>84.5</td>
		<td>550124</td>
		<td>2.17</td>
	</tr>
	<tr>
		<td>2009</td>
		<td>77.1</td>
		<td>84.8</td>
		<td>556141</td>
		<td>1.09</td>
	</tr>
	<tr>
		<td>2010</td>
		<td>77.4</td>
		<td>85.1</td>
		<td>557662</td>
		<td>0.27</td>
	</tr>
	<tr>
		<td>2011</td>
		<td>77.6</td>
		<td>85.3</td>
		<td>549040</td>
		<td>-1.55</td>
	</tr>
	<tr>
		<td>2012</td>
		<td>78.1</td>
		<td>85.8</td>
		<td>578444</td>
		<td>5.36</td>
	</tr>
	<tr>
		<td>2013</td>
		<td>78.2</td>
		<td>85.9</td>
		<td>577646</td>
		<td>-0.14</td>
	</tr>
	<tr>
		<td>2014</td>
		<td>78.3</td>
		<td>86.1</td>
		<td>567645</td>
		<td>-1.73</td>
	</tr>
	<tr>
		<td>2015</td>
		<td>78.8</td>
		<td>86.5</td>
		<td>601958</td>
		<td>6.04</td>
	</tr>
	<tr>
		<td>2016</td>
		<td>78.8</td>
		<td>86.6</td>
		<td>602332</td>
		<td>0.06</td>
	</tr>
	<tr>
		<td>2017</td>
		<td>79.1</td>
		<td>86.9</td>
		<td>615601</td>
		<td>2.2</td>
	</tr>
	<tr>
		<td>2018</td>
		<td>79.1</td>
		<td>87.1</td>
		<td>618617</td>
		<td>0.49</td>
	</tr>
	<tr>
		<td>2019</td>
		<td>79.1</td>
		<td>87.2</td>
		<td>621566</td>
		<td>0.48</td>
	</tr>
	<tr>
		<td>2020</td>
		<td>79.6</td>
		<td>87.4</td>
		<td>675447</td>
		<td>8.67</td>
	</tr>
</table>
</div>
    <div class="disclaimer">
        <b>Disclaimer: </b>
        Je ne suis pas statisticien mais un amateur curieux qui sait compter (il n'y a besoin que de savoir compter... et programmer en python/pandas)
    </div>
	<div>
		<a href="https://raw.githubusercontent.com/fguilleme/deces/master/deces.py">Source python</a><br/>
		<a href="https://raw.githubusercontent.com/fguilleme/deces/master/insee.py">Module python insee</a><br/>
		<a href="https://raw.githubusercontent.com/fguilleme/deces/master/deces-polar-anim.py">Source python pour générer la vidéo</a><br/>
	</div>
</body>
	<script>
		// Plugin isInViewport
			!function (e, n) { "object" == typeof exports && "undefined" != typeof module ? n(require("jquery"), require("window")) : "function" == typeof define && define.amd ? define("isInViewport", ["jquery", "window"], n) : n(e.$, e.window) }(this, function (e, n) {
				"use strict"; function t(n) { var t = this; if (1 === arguments.length && "function" == typeof n && (n = [n]), !(n instanceof Array)) throw new SyntaxError("isInViewport: Argument(s) passed to .do/.run should be a function or an array of functions"); return n.forEach(function (n) { "function" != typeof n ? (console.warn("isInViewport: Argument(s) passed to .do/.run should be a function or an array of functions"), console.warn("isInViewport: Ignoring non-function values in array and moving on")) : [].slice.call(t).forEach(function (t) { return n.call(e(t)) }) }), this } function o(n) { var t = e("<div></div>").css({ width: "100%" }); n.append(t); var o = n.width() - t.width(); return t.remove(), o } function r(t, i) { var a = t.getBoundingClientRect(), u = a.top, c = a.bottom, f = a.left, l = a.right, d = e.extend({ tolerance: 0, viewport: n }, i), s = !1, p = d.viewport.jquery ? d.viewport : e(d.viewport); p.length || (console.warn("isInViewport: The viewport selector you have provided matches no element on page."), console.warn("isInViewport: Defaulting to viewport as window"), p = e(n)); var w = p.height(), h = p.width(), v = p[0].toString(); if (p[0] !== n && "[object Window]" !== v && "[object DOMWindow]" !== v) { var g = p[0].getBoundingClientRect(); u -= g.top, c -= g.top, f -= g.left, l -= g.left, r.scrollBarWidth = r.scrollBarWidth || o(p), h -= r.scrollBarWidth } return d.tolerance = ~~Math.round(parseFloat(d.tolerance)), d.tolerance < 0 && (d.tolerance = w + d.tolerance), l <= 0 || f >= h ? s : s = d.tolerance ? u <= d.tolerance && c >= d.tolerance : c > 0 && u <= w } function i(n) { if (n) { var t = n.split(","); return 1 === t.length && isNaN(t[0]) && (t[1] = t[0], t[0] = void 0), { tolerance: t[0] ? t[0].trim() : void 0, viewport: t[1] ? e(t[1].trim()) : void 0 } } return {} } e = "default" in e ? e.default : e, n = "default" in n ? n.default : n,/**
 * @author  Mudit Ameta
 * @license https://github.com/zeusdeux/isInViewport/blob/master/license.md MIT
 */
					e.extend(e.expr[":"], { "in-viewport": e.expr.createPseudo ? e.expr.createPseudo(function (e) { return function (n) { return r(n, i(e)) } }) : function (e, n, t) { return r(e, i(t[3])) } }), e.fn.isInViewport = function (e) { return this.filter(function (n, t) { return r(t, e) }) }, e.fn.run = t
			});
			//# isInViewport

			// Play Video
			$(function () {
				var $video = $('video');
				var $window = $(window);

				$window.scroll(function () {
					if ($video.is(":in-viewport")) {
						$video[0].play();
					} else {
						$video[0].pause();
					}
				});
			});
	</script>
</html>